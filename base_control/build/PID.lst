ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"PID.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_f2d
  18              		.global	__aeabi_ddiv
  19              		.global	__aeabi_dmul
  20              		.section	.text.PID_ComputeSpeedRPM,"ax",%progbits
  21              		.align	1
  22              		.global	PID_ComputeSpeedRPM
  23              		.arch armv7e-m
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  27              		.fpu fpv4-sp-d16
  29              	PID_ComputeSpeedRPM:
  30              	.LVL0:
  31              	.LFB130:
  32              		.file 1 "Core/Src/PID.c"
   1:Core/Src/PID.c **** /*
   2:Core/Src/PID.c **** *   File name: PID.c
   3:Core/Src/PID.c **** *   Author: Linh Nguyen
   4:Core/Src/PID.c **** *   Last modified: 1/6/2021
   5:Core/Src/PID.c **** *   Description: This contains all interface functions for PID controlling motors
   6:Core/Src/PID.c **** */
   7:Core/Src/PID.c **** 
   8:Core/Src/PID.c **** #include "PID.h"
   9:Core/Src/PID.c **** #include "string.h"
  10:Core/Src/PID.c **** #include "math.h"
  11:Core/Src/PID.c **** #include "config.h"
  12:Core/Src/PID.c **** #include "gpio.h"
  13:Core/Src/PID.c **** #include "stm32f4xx_hal_def.h"
  14:Core/Src/PID.c **** 
  15:Core/Src/PID.c **** volatile double i_term;
  16:Core/Src/PID.c **** volatile double p_term;
  17:Core/Src/PID.c **** volatile double d_term;
  18:Core/Src/PID.c **** 
  19:Core/Src/PID.c **** 
  20:Core/Src/PID.c **** 
  21:Core/Src/PID.c **** /* Private function prototypes*/
  22:Core/Src/PID.c **** 
  23:Core/Src/PID.c **** double PID_Limit(double input, double max, double min);
  24:Core/Src/PID.c **** 
  25:Core/Src/PID.c **** 
  26:Core/Src/PID.c **** 
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 2


  27:Core/Src/PID.c **** 
  28:Core/Src/PID.c **** // Convert encoder pulses count to speed in RPM, tick in milisecond
  29:Core/Src/PID.c **** void PID_ComputeSpeedRPM(MOTOR_TypeDef *motor, uint32_t tick)
  30:Core/Src/PID.c **** { 
  33              		.loc 1 30 1 view -0
  34              		.cfi_startproc
  35              		@ args = 0, pretend = 0, frame = 0
  36              		@ frame_needed = 0, uses_anonymous_args = 0
  37              		.loc 1 30 1 is_stmt 0 view .LVU1
  38 0000 D0B5     		push	{r4, r6, r7, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 16
  41              		.cfi_offset 4, -16
  42              		.cfi_offset 6, -12
  43              		.cfi_offset 7, -8
  44              		.cfi_offset 14, -4
  45 0002 0446     		mov	r4, r0
  46 0004 07EE901A 		vmov	s15, r1	@ int
  31:Core/Src/PID.c ****     motor->speed = ((motor->measure) / (MOTOR_PPR * tick))*60000;
  47              		.loc 1 31 5 is_stmt 1 view .LVU2
  48              		.loc 1 31 27 is_stmt 0 view .LVU3
  49 0008 D0E90467 		ldrd	r6, [r0, #16]
  50              		.loc 1 31 51 view .LVU4
  51 000c F8EE677A 		vcvt.f32.u32	s15, s15
  52 0010 9FED0D7A 		vldr.32	s14, .L3+8
  53 0014 67EE877A 		vmul.f32	s15, s15, s14
  54 0018 17EE900A 		vmov	r0, s15
  55              	.LVL1:
  56              		.loc 1 31 51 view .LVU5
  57 001c FFF7FEFF 		bl	__aeabi_f2d
  58              	.LVL2:
  59              		.loc 1 31 51 view .LVU6
  60 0020 0246     		mov	r2, r0
  61 0022 0B46     		mov	r3, r1
  62              		.loc 1 31 38 view .LVU7
  63 0024 3046     		mov	r0, r6
  64 0026 3946     		mov	r1, r7
  65 0028 FFF7FEFF 		bl	__aeabi_ddiv
  66              	.LVL3:
  67              		.loc 1 31 59 view .LVU8
  68 002c 04A3     		adr	r3, .L3
  69 002e D3E90023 		ldrd	r2, [r3]
  70 0032 FFF7FEFF 		bl	__aeabi_dmul
  71              	.LVL4:
  72              		.loc 1 31 18 view .LVU9
  73 0036 C4E90001 		strd	r0, [r4]
  32:Core/Src/PID.c **** }
  74              		.loc 1 32 1 view .LVU10
  75 003a D0BD     		pop	{r4, r6, r7, pc}
  76              	.LVL5:
  77              	.L4:
  78              		.loc 1 32 1 view .LVU11
  79 003c AFF30080 		.align	3
  80              	.L3:
  81 0040 00000000 		.word	0
  82 0044 004CED40 		.word	1089293312
  83 0048 00004844 		.word	1145569280
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 3


  84              		.cfi_endproc
  85              	.LFE130:
  87              		.global	__aeabi_dcmpge
  88              		.section	.text.PID_SetSpeedRPM,"ax",%progbits
  89              		.align	1
  90              		.global	PID_SetSpeedRPM
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu fpv4-sp-d16
  96              	PID_SetSpeedRPM:
  97              	.LVL6:
  98              	.LFB131:
  33:Core/Src/PID.c **** 
  34:Core/Src/PID.c **** void PID_SetSpeedRPM(MOTOR_TypeDef *motor, double _set_speed)
  35:Core/Src/PID.c **** {
  99              		.loc 1 35 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		.loc 1 35 1 is_stmt 0 view .LVU13
 104 0000 70B5     		push	{r4, r5, r6, lr}
 105              	.LCFI1:
 106              		.cfi_def_cfa_offset 16
 107              		.cfi_offset 4, -16
 108              		.cfi_offset 5, -12
 109              		.cfi_offset 6, -8
 110              		.cfi_offset 14, -4
 111 0002 0646     		mov	r6, r0
 112 0004 55EC104B 		vmov	r4, r5, d0
  36:Core/Src/PID.c ****     if (_set_speed >= 0) 
 113              		.loc 1 36 5 is_stmt 1 view .LVU14
 114              		.loc 1 36 8 is_stmt 0 view .LVU15
 115 0008 0022     		movs	r2, #0
 116 000a 0023     		movs	r3, #0
 117 000c 10EE100A 		vmov	r0, s0	@ int
 118              	.LVL7:
 119              		.loc 1 36 8 view .LVU16
 120 0010 2946     		mov	r1, r5
 121 0012 FFF7FEFF 		bl	__aeabi_dcmpge
 122              	.LVL8:
 123              		.loc 1 36 8 view .LVU17
 124 0016 28B1     		cbz	r0, .L10
  37:Core/Src/PID.c ****     {
  38:Core/Src/PID.c ****         motor->dir = 1;
 125              		.loc 1 38 9 is_stmt 1 view .LVU18
 126              		.loc 1 38 20 is_stmt 0 view .LVU19
 127 0018 0123     		movs	r3, #1
 128 001a 86F82830 		strb	r3, [r6, #40]
  39:Core/Src/PID.c ****         motor->set_speed = _set_speed;
 129              		.loc 1 39 9 is_stmt 1 view .LVU20
 130              		.loc 1 39 26 is_stmt 0 view .LVU21
 131 001e C6E90245 		strd	r4, [r6, #8]
 132              	.L5:
  40:Core/Src/PID.c ****     } 
  41:Core/Src/PID.c ****     else 
  42:Core/Src/PID.c ****     {
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 4


  43:Core/Src/PID.c ****         motor->dir = 0;
  44:Core/Src/PID.c ****         motor->set_speed = - (_set_speed);
  45:Core/Src/PID.c ****     }    
  46:Core/Src/PID.c **** }
 133              		.loc 1 46 1 view .LVU22
 134 0022 70BD     		pop	{r4, r5, r6, pc}
 135              	.LVL9:
 136              	.L10:
  43:Core/Src/PID.c ****         motor->set_speed = - (_set_speed);
 137              		.loc 1 43 9 is_stmt 1 view .LVU23
  43:Core/Src/PID.c ****         motor->set_speed = - (_set_speed);
 138              		.loc 1 43 20 is_stmt 0 view .LVU24
 139 0024 0023     		movs	r3, #0
 140 0026 86F82830 		strb	r3, [r6, #40]
  44:Core/Src/PID.c ****     }    
 141              		.loc 1 44 9 is_stmt 1 view .LVU25
  44:Core/Src/PID.c ****     }    
 142              		.loc 1 44 28 is_stmt 0 view .LVU26
 143 002a 2246     		mov	r2, r4
 144 002c 05F10043 		add	r3, r5, #-2147483648
  44:Core/Src/PID.c ****     }    
 145              		.loc 1 44 26 view .LVU27
 146 0030 C6E90223 		strd	r2, [r6, #8]
 147              		.loc 1 46 1 view .LVU28
 148 0034 F5E7     		b	.L5
 149              		.cfi_endproc
 150              	.LFE131:
 152              		.global	__aeabi_i2d
 153              		.section	.text.PID_SetSpeedMPS,"ax",%progbits
 154              		.align	1
 155              		.global	PID_SetSpeedMPS
 156              		.syntax unified
 157              		.thumb
 158              		.thumb_func
 159              		.fpu fpv4-sp-d16
 161              	PID_SetSpeedMPS:
 162              	.LVL10:
 163              	.LFB132:
  47:Core/Src/PID.c **** 
  48:Core/Src/PID.c **** // Convert speed in M/S to RPM and write to SET SPEED
  49:Core/Src/PID.c **** void PID_SetSpeedMPS(MOTOR_TypeDef *motor, int16_t _set_speed_mps)
  50:Core/Src/PID.c **** {
 164              		.loc 1 50 1 is_stmt 1 view -0
 165              		.cfi_startproc
 166              		@ args = 0, pretend = 0, frame = 0
 167              		@ frame_needed = 0, uses_anonymous_args = 0
 168              		.loc 1 50 1 is_stmt 0 view .LVU30
 169 0000 10B5     		push	{r4, lr}
 170              	.LCFI2:
 171              		.cfi_def_cfa_offset 8
 172              		.cfi_offset 4, -8
 173              		.cfi_offset 14, -4
 174 0002 0446     		mov	r4, r0
  51:Core/Src/PID.c ****     double speed_rps = _set_speed_mps / (PI * ROBOT_WHEEL_DIAMETER);
 175              		.loc 1 51 5 is_stmt 1 view .LVU31
 176              		.loc 1 51 39 is_stmt 0 view .LVU32
 177 0004 0846     		mov	r0, r1
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 5


 178              	.LVL11:
 179              		.loc 1 51 39 view .LVU33
 180 0006 FFF7FEFF 		bl	__aeabi_i2d
 181              	.LVL12:
 182              		.loc 1 51 12 view .LVU34
 183 000a 08A3     		adr	r3, .L14+4
 184 000c D3E90023 		ldrd	r2, [r3]
 185 0010 FFF7FEFF 		bl	__aeabi_ddiv
 186              	.LVL13:
  52:Core/Src/PID.c ****     motor->set_speed = (double)(speed_rps) * 60;
 187              		.loc 1 52 5 is_stmt 1 view .LVU35
 188              		.loc 1 52 44 is_stmt 0 view .LVU36
 189 0014 0022     		movs	r2, #0
 190 0016 044B     		ldr	r3, .L14
 191 0018 FFF7FEFF 		bl	__aeabi_dmul
 192              	.LVL14:
 193              		.loc 1 52 22 view .LVU37
 194 001c C4E90201 		strd	r0, [r4, #8]
  53:Core/Src/PID.c **** }
 195              		.loc 1 53 1 view .LVU38
 196 0020 10BD     		pop	{r4, pc}
 197              	.LVL15:
 198              	.L15:
 199              		.loc 1 53 1 view .LVU39
 200 0022 00BFAFF3 		.align	3
 200      0080
 201              	.L14:
 202 0028 00004E40 		.word	1078853632
 203 002c DCE14F3D 		.word	1028645340
 204 0030 5723CA3F 		.word	1070211927
 205              		.cfi_endproc
 206              	.LFE132:
 208              		.global	__aeabi_dsub
 209              		.section	.text.PID_ComputeError,"ax",%progbits
 210              		.align	1
 211              		.global	PID_ComputeError
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 215              		.fpu fpv4-sp-d16
 217              	PID_ComputeError:
 218              	.LVL16:
 219              	.LFB133:
  54:Core/Src/PID.c **** 
  55:Core/Src/PID.c **** /*
  56:Core/Src/PID.c **** *  Note:
  57:Core/Src/PID.c **** */
  58:Core/Src/PID.c **** void PID_ComputeError(MOTOR_TypeDef *motor)
  59:Core/Src/PID.c **** {
 220              		.loc 1 59 1 is_stmt 1 view -0
 221              		.cfi_startproc
 222              		@ args = 0, pretend = 0, frame = 0
 223              		@ frame_needed = 0, uses_anonymous_args = 0
 224              		.loc 1 59 1 is_stmt 0 view .LVU41
 225 0000 10B5     		push	{r4, lr}
 226              	.LCFI3:
 227              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 6


 228              		.cfi_offset 4, -8
 229              		.cfi_offset 14, -4
 230 0002 0346     		mov	r3, r0
  60:Core/Src/PID.c ****     motor->pPID_params->error = (motor->set_speed) - (motor->speed);
 231              		.loc 1 60 5 is_stmt 1 view .LVU42
 232              		.loc 1 60 39 is_stmt 0 view .LVU43
 233 0004 D0E90201 		ldrd	r0, [r0, #8]
 234              	.LVL17:
 235              		.loc 1 60 10 view .LVU44
 236 0008 1C6B     		ldr	r4, [r3, #48]
 237              		.loc 1 60 52 view .LVU45
 238 000a D3E90023 		ldrd	r2, [r3]
 239 000e FFF7FEFF 		bl	__aeabi_dsub
 240              	.LVL18:
 241              		.loc 1 60 31 view .LVU46
 242 0012 C4E90601 		strd	r0, [r4, #24]
  61:Core/Src/PID.c **** }
 243              		.loc 1 61 1 view .LVU47
 244 0016 10BD     		pop	{r4, pc}
 245              		.cfi_endproc
 246              	.LFE133:
 248              		.global	__aeabi_dcmpgt
 249              		.global	__aeabi_dcmplt
 250              		.section	.text.PID_Limit,"ax",%progbits
 251              		.align	1
 252              		.global	PID_Limit
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 256              		.fpu fpv4-sp-d16
 258              	PID_Limit:
 259              	.LVL19:
 260              	.LFB135:
  62:Core/Src/PID.c **** 
  63:Core/Src/PID.c **** /*
  64:Core/Src/PID.c **** *  Note: 
  65:Core/Src/PID.c **** */
  66:Core/Src/PID.c **** void PID_ComputeOutput(MOTOR_TypeDef *motor)
  67:Core/Src/PID.c **** {   
  68:Core/Src/PID.c ****     double output = 0.0f;
  69:Core/Src/PID.c ****     double _OUTPUT_MAX = motor->pPID_params->OUTPUT_MAX;
  70:Core/Src/PID.c ****     double _OUTPUT_MIN =motor->pPID_params->OUTPUT_MIN;
  71:Core/Src/PID.c **** 
  72:Core/Src/PID.c ****     PID_TypeDef *PID = motor->pPID_params;
  73:Core/Src/PID.c **** 
  74:Core/Src/PID.c ****     p_term = PID->Kp*(PID->error);
  75:Core/Src/PID.c **** 
  76:Core/Src/PID.c ****     // Compute upper limit of Integration Term 
  77:Core/Src/PID.c ****     float i_term_max, i_term_min;
  78:Core/Src/PID.c ****     if (PID->OUTPUT_MAX > p_term)
  79:Core/Src/PID.c ****     {
  80:Core/Src/PID.c ****         i_term_max = PID->OUTPUT_MAX - p_term;
  81:Core/Src/PID.c ****     } 
  82:Core/Src/PID.c ****     else 
  83:Core/Src/PID.c ****     {
  84:Core/Src/PID.c ****         i_term_max = 0.0f;
  85:Core/Src/PID.c ****     }
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 7


  86:Core/Src/PID.c ****     // Compute lower limit of Integration Term
  87:Core/Src/PID.c ****     if (PID->OUTPUT_MIN < p_term)
  88:Core/Src/PID.c ****     {
  89:Core/Src/PID.c ****         i_term_min = PID->OUTPUT_MIN - p_term ;
  90:Core/Src/PID.c ****     } 
  91:Core/Src/PID.c ****     else 
  92:Core/Src/PID.c ****     {
  93:Core/Src/PID.c ****         i_term_min = 0.0f;
  94:Core/Src/PID.c ****     }
  95:Core/Src/PID.c **** 
  96:Core/Src/PID.c ****     i_term += PID->Ki * ( (PID->error) + (PID->previous_error) );
  97:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
  98:Core/Src/PID.c ****     
  99:Core/Src/PID.c ****     output = p_term + i_term;
 100:Core/Src/PID.c ****     output = PID_Limit(output, _OUTPUT_MAX, _OUTPUT_MIN);
 101:Core/Src/PID.c ****     
 102:Core/Src/PID.c ****     motor->pwm_output = (output < 0) ? -output : output;
 103:Core/Src/PID.c ****     PID->previous_error = PID->error;
 104:Core/Src/PID.c **** 
 105:Core/Src/PID.c **** }
 106:Core/Src/PID.c **** 
 107:Core/Src/PID.c **** // Limit the signal in range (max,min)
 108:Core/Src/PID.c **** double PID_Limit(double input, double max, double min)
 109:Core/Src/PID.c **** {
 261              		.loc 1 109 1 is_stmt 1 view -0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 0
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		.loc 1 109 1 is_stmt 0 view .LVU49
 266 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 267              	.LCFI4:
 268              		.cfi_def_cfa_offset 32
 269              		.cfi_offset 3, -32
 270              		.cfi_offset 4, -28
 271              		.cfi_offset 5, -24
 272              		.cfi_offset 6, -20
 273              		.cfi_offset 7, -16
 274              		.cfi_offset 8, -12
 275              		.cfi_offset 9, -8
 276              		.cfi_offset 14, -4
 277 0004 57EC106B 		vmov	r6, r7, d0
 278 0008 55EC114B 		vmov	r4, r5, d1
 279 000c 59EC128B 		vmov	r8, r9, d2
 110:Core/Src/PID.c ****     if (input > max)
 280              		.loc 1 110 5 is_stmt 1 view .LVU50
 281              		.loc 1 110 8 is_stmt 0 view .LVU51
 282 0010 11EE102A 		vmov	r2, s2	@ int
 283 0014 2B46     		mov	r3, r5
 284 0016 10EE100A 		vmov	r0, s0	@ int
 285 001a 3946     		mov	r1, r7
 286 001c FFF7FEFF 		bl	__aeabi_dcmpgt
 287              	.LVL20:
 288              		.loc 1 110 8 view .LVU52
 289 0020 48B9     		cbnz	r0, .L21
 111:Core/Src/PID.c ****     {
 112:Core/Src/PID.c ****         return max;
 113:Core/Src/PID.c ****     }
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 8


 114:Core/Src/PID.c ****     else if (input < min)
 290              		.loc 1 114 10 is_stmt 1 view .LVU53
 291              		.loc 1 114 13 is_stmt 0 view .LVU54
 292 0022 4246     		mov	r2, r8
 293 0024 4B46     		mov	r3, r9
 294 0026 3046     		mov	r0, r6
 295 0028 3946     		mov	r1, r7
 296 002a FFF7FEFF 		bl	__aeabi_dcmplt
 297              	.LVL21:
 298 002e 30B1     		cbz	r0, .L24
 115:Core/Src/PID.c ****     {
 116:Core/Src/PID.c ****         return min;
 299              		.loc 1 116 16 view .LVU55
 300 0030 49EC108B 		vmov	d0, r8, r9
 301 0034 01E0     		b	.L18
 302              	.L21:
 112:Core/Src/PID.c ****     }
 303              		.loc 1 112 16 view .LVU56
 304 0036 45EC104B 		vmov	d0, r4, r5
 305              	.L18:
 117:Core/Src/PID.c ****     }
 118:Core/Src/PID.c ****     else
 119:Core/Src/PID.c ****     {
 120:Core/Src/PID.c ****         return input;
 121:Core/Src/PID.c ****     }
 122:Core/Src/PID.c **** }
 306              		.loc 1 122 1 view .LVU57
 307 003a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 308              	.LVL22:
 309              	.L24:
 120:Core/Src/PID.c ****     }
 310              		.loc 1 120 16 view .LVU58
 311 003e 47EC106B 		vmov	d0, r6, r7
 312 0042 FAE7     		b	.L18
 313              		.cfi_endproc
 314              	.LFE135:
 316              		.global	__aeabi_d2f
 317              		.global	__aeabi_dadd
 318              		.section	.text.PID_ComputeOutput,"ax",%progbits
 319              		.align	1
 320              		.global	PID_ComputeOutput
 321              		.syntax unified
 322              		.thumb
 323              		.thumb_func
 324              		.fpu fpv4-sp-d16
 326              	PID_ComputeOutput:
 327              	.LVL23:
 328              	.LFB134:
  67:Core/Src/PID.c ****     double output = 0.0f;
 329              		.loc 1 67 1 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
  67:Core/Src/PID.c ****     double output = 0.0f;
 333              		.loc 1 67 1 is_stmt 0 view .LVU60
 334 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 335              	.LCFI5:
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 9


 336              		.cfi_def_cfa_offset 40
 337              		.cfi_offset 3, -40
 338              		.cfi_offset 4, -36
 339              		.cfi_offset 5, -32
 340              		.cfi_offset 6, -28
 341              		.cfi_offset 7, -24
 342              		.cfi_offset 8, -20
 343              		.cfi_offset 9, -16
 344              		.cfi_offset 10, -12
 345              		.cfi_offset 11, -8
 346              		.cfi_offset 14, -4
 347 0004 2DED068B 		vpush.64	{d8, d9, d10}
 348              	.LCFI6:
 349              		.cfi_def_cfa_offset 64
 350              		.cfi_offset 80, -64
 351              		.cfi_offset 81, -60
 352              		.cfi_offset 82, -56
 353              		.cfi_offset 83, -52
 354              		.cfi_offset 84, -48
 355              		.cfi_offset 85, -44
 356 0008 0546     		mov	r5, r0
  68:Core/Src/PID.c ****     double _OUTPUT_MAX = motor->pPID_params->OUTPUT_MAX;
 357              		.loc 1 68 5 is_stmt 1 view .LVU61
 358              	.LVL24:
  69:Core/Src/PID.c ****     double _OUTPUT_MIN =motor->pPID_params->OUTPUT_MIN;
 359              		.loc 1 69 5 view .LVU62
  69:Core/Src/PID.c ****     double _OUTPUT_MIN =motor->pPID_params->OUTPUT_MIN;
 360              		.loc 1 69 31 is_stmt 0 view .LVU63
 361 000a 046B     		ldr	r4, [r0, #48]
  69:Core/Src/PID.c ****     double _OUTPUT_MIN =motor->pPID_params->OUTPUT_MIN;
 362              		.loc 1 69 12 view .LVU64
 363 000c D4E90C89 		ldrd	r8, [r4, #48]
 364              	.LVL25:
  70:Core/Src/PID.c **** 
 365              		.loc 1 70 5 is_stmt 1 view .LVU65
  70:Core/Src/PID.c **** 
 366              		.loc 1 70 12 is_stmt 0 view .LVU66
 367 0010 94ED0E9B 		vldr.64	d9, [r4, #56]
 368              	.LVL26:
  72:Core/Src/PID.c **** 
 369              		.loc 1 72 5 is_stmt 1 view .LVU67
  74:Core/Src/PID.c **** 
 370              		.loc 1 74 5 view .LVU68
  74:Core/Src/PID.c **** 
 371              		.loc 1 74 21 is_stmt 0 view .LVU69
 372 0014 D4E90623 		ldrd	r2, [r4, #24]
 373 0018 D4E90001 		ldrd	r0, [r4]
 374              	.LVL27:
  74:Core/Src/PID.c **** 
 375              		.loc 1 74 21 view .LVU70
 376 001c FFF7FEFF 		bl	__aeabi_dmul
 377              	.LVL28:
  74:Core/Src/PID.c **** 
 378              		.loc 1 74 12 view .LVU71
 379 0020 424E     		ldr	r6, .L42
 380 0022 C6E90001 		strd	r0, [r6]
  77:Core/Src/PID.c ****     if (PID->OUTPUT_MAX > p_term)
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 10


 381              		.loc 1 77 5 is_stmt 1 view .LVU72
  78:Core/Src/PID.c ****     {
 382              		.loc 1 78 5 view .LVU73
  78:Core/Src/PID.c ****     {
 383              		.loc 1 78 8 is_stmt 0 view .LVU74
 384 0026 4246     		mov	r2, r8
 385 0028 4B46     		mov	r3, r9
 386 002a D6E90001 		ldrd	r0, [r6]
 387 002e FFF7FEFF 		bl	__aeabi_dcmplt
 388              	.LVL29:
 389 0032 0028     		cmp	r0, #0
 390 0034 6FD0     		beq	.L38
  80:Core/Src/PID.c ****     } 
 391              		.loc 1 80 9 is_stmt 1 view .LVU75
  80:Core/Src/PID.c ****     } 
 392              		.loc 1 80 38 is_stmt 0 view .LVU76
 393 0036 D6E90023 		ldrd	r2, [r6]
 394 003a 4046     		mov	r0, r8
 395 003c 4946     		mov	r1, r9
 396 003e FFF7FEFF 		bl	__aeabi_dsub
 397              	.LVL30:
  80:Core/Src/PID.c ****     } 
 398              		.loc 1 80 20 view .LVU77
 399 0042 FFF7FEFF 		bl	__aeabi_d2f
 400              	.LVL31:
 401 0046 8346     		mov	fp, r0	@ float
 402              	.LVL32:
 403              	.L27:
  87:Core/Src/PID.c ****     {
 404              		.loc 1 87 5 is_stmt 1 view .LVU78
  87:Core/Src/PID.c ****     {
 405              		.loc 1 87 8 is_stmt 0 view .LVU79
 406 0048 53EC192B 		vmov	r2, r3, d9
 407 004c 3749     		ldr	r1, .L42
 408 004e D1E90001 		ldrd	r0, [r1]
 409 0052 FFF7FEFF 		bl	__aeabi_dcmpgt
 410              	.LVL33:
 411 0056 0028     		cmp	r0, #0
 412 0058 60D0     		beq	.L39
  89:Core/Src/PID.c ****     } 
 413              		.loc 1 89 9 is_stmt 1 view .LVU80
  89:Core/Src/PID.c ****     } 
 414              		.loc 1 89 38 is_stmt 0 view .LVU81
 415 005a 344B     		ldr	r3, .L42
 416 005c D3E90023 		ldrd	r2, [r3]
 417 0060 51EC190B 		vmov	r0, r1, d9
 418 0064 FFF7FEFF 		bl	__aeabi_dsub
 419              	.LVL34:
  89:Core/Src/PID.c ****     } 
 420              		.loc 1 89 20 view .LVU82
 421 0068 FFF7FEFF 		bl	__aeabi_d2f
 422              	.LVL35:
 423 006c 8246     		mov	r10, r0	@ float
 424              	.LVL36:
 425              	.L29:
  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 426              		.loc 1 96 5 is_stmt 1 view .LVU83
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 11


  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 427              		.loc 1 96 18 is_stmt 0 view .LVU84
 428 006e D4E90467 		ldrd	r6, [r4, #16]
  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 429              		.loc 1 96 31 view .LVU85
 430 0072 D4E90601 		ldrd	r0, [r4, #24]
  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 431              		.loc 1 96 40 view .LVU86
 432 0076 D4E90823 		ldrd	r2, [r4, #32]
 433 007a FFF7FEFF 		bl	__aeabi_dadd
 434              	.LVL37:
 435 007e 0246     		mov	r2, r0
 436 0080 0B46     		mov	r3, r1
  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 437              		.loc 1 96 23 view .LVU87
 438 0082 3046     		mov	r0, r6
 439 0084 3946     		mov	r1, r7
 440 0086 FFF7FEFF 		bl	__aeabi_dmul
 441              	.LVL38:
 442 008a 0246     		mov	r2, r0
 443 008c 0B46     		mov	r3, r1
  96:Core/Src/PID.c ****     i_term = PID_Limit(i_term, i_term_max, i_term_min);
 444              		.loc 1 96 12 view .LVU88
 445 008e 284E     		ldr	r6, .L42+4
 446 0090 D6E90001 		ldrd	r0, [r6]
 447 0094 FFF7FEFF 		bl	__aeabi_dadd
 448              	.LVL39:
 449 0098 C6E90001 		strd	r0, [r6]
  97:Core/Src/PID.c ****     
 450              		.loc 1 97 5 is_stmt 1 view .LVU89
  97:Core/Src/PID.c ****     
 451              		.loc 1 97 14 is_stmt 0 view .LVU90
 452 009c 96ED00AB 		vldr.64	d10, [r6]
 453 00a0 5046     		mov	r0, r10	@ float
 454 00a2 FFF7FEFF 		bl	__aeabi_f2d
 455              	.LVL40:
 456 00a6 41EC180B 		vmov	d8, r0, r1
 457 00aa 5846     		mov	r0, fp	@ float
 458 00ac FFF7FEFF 		bl	__aeabi_f2d
 459              	.LVL41:
 460 00b0 B0EE482A 		vmov.f32	s4, s16
 461 00b4 F0EE682A 		vmov.f32	s5, s17
 462 00b8 41EC110B 		vmov	d1, r0, r1
 463 00bc B0EE4A0A 		vmov.f32	s0, s20
 464 00c0 F0EE6A0A 		vmov.f32	s1, s21
 465 00c4 FFF7FEFF 		bl	PID_Limit
 466              	.LVL42:
  97:Core/Src/PID.c ****     
 467              		.loc 1 97 12 view .LVU91
 468 00c8 86ED000B 		vstr.64	d0, [r6]
  99:Core/Src/PID.c ****     output = PID_Limit(output, _OUTPUT_MAX, _OUTPUT_MIN);
 469              		.loc 1 99 5 is_stmt 1 view .LVU92
  99:Core/Src/PID.c ****     output = PID_Limit(output, _OUTPUT_MAX, _OUTPUT_MIN);
 470              		.loc 1 99 21 is_stmt 0 view .LVU93
 471 00cc 174B     		ldr	r3, .L42
 472 00ce D3E90001 		ldrd	r0, [r3]
  99:Core/Src/PID.c ****     output = PID_Limit(output, _OUTPUT_MAX, _OUTPUT_MIN);
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 12


 473              		.loc 1 99 12 view .LVU94
 474 00d2 D6E90023 		ldrd	r2, [r6]
 475 00d6 FFF7FEFF 		bl	__aeabi_dadd
 476              	.LVL43:
 100:Core/Src/PID.c ****     
 477              		.loc 1 100 5 is_stmt 1 view .LVU95
 100:Core/Src/PID.c ****     
 478              		.loc 1 100 14 is_stmt 0 view .LVU96
 479 00da B0EE492A 		vmov.f32	s4, s18
 480 00de F0EE692A 		vmov.f32	s5, s19
 481 00e2 49EC118B 		vmov	d1, r8, r9
 482 00e6 41EC100B 		vmov	d0, r0, r1
 483 00ea FFF7FEFF 		bl	PID_Limit
 484              	.LVL44:
 100:Core/Src/PID.c ****     
 485              		.loc 1 100 14 view .LVU97
 486 00ee 57EC106B 		vmov	r6, r7, d0
 102:Core/Src/PID.c ****     PID->previous_error = PID->error;
 487              		.loc 1 102 5 is_stmt 1 view .LVU98
 102:Core/Src/PID.c ****     PID->previous_error = PID->error;
 488              		.loc 1 102 48 is_stmt 0 view .LVU99
 489 00f2 0022     		movs	r2, #0
 490 00f4 0023     		movs	r3, #0
 491 00f6 10EE100A 		vmov	r0, s0	@ int
 492 00fa 3946     		mov	r1, r7
 493 00fc FFF7FEFF 		bl	__aeabi_dcmplt
 494              	.LVL45:
 495 0100 78B9     		cbnz	r0, .L41
 496              	.L31:
 102:Core/Src/PID.c ****     PID->previous_error = PID->error;
 497              		.loc 1 102 23 discriminator 4 view .LVU100
 498 0102 C5E90867 		strd	r6, [r5, #32]
 103:Core/Src/PID.c **** 
 499              		.loc 1 103 5 is_stmt 1 discriminator 4 view .LVU101
 103:Core/Src/PID.c **** 
 500              		.loc 1 103 30 is_stmt 0 discriminator 4 view .LVU102
 501 0106 D4E90623 		ldrd	r2, [r4, #24]
 103:Core/Src/PID.c **** 
 502              		.loc 1 103 25 discriminator 4 view .LVU103
 503 010a C4E90823 		strd	r2, [r4, #32]
 105:Core/Src/PID.c **** 
 504              		.loc 1 105 1 discriminator 4 view .LVU104
 505 010e BDEC068B 		vldm	sp!, {d8-d10}
 506              	.LCFI7:
 507              		.cfi_remember_state
 508              		.cfi_restore 84
 509              		.cfi_restore 85
 510              		.cfi_restore 82
 511              		.cfi_restore 83
 512              		.cfi_restore 80
 513              		.cfi_restore 81
 514              		.cfi_def_cfa_offset 40
 515              	.LVL46:
 105:Core/Src/PID.c **** 
 516              		.loc 1 105 1 discriminator 4 view .LVU105
 517 0112 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 518              	.LVL47:
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 13


 519              	.L38:
 520              	.LCFI8:
 521              		.cfi_restore_state
  84:Core/Src/PID.c ****     }
 522              		.loc 1 84 20 view .LVU106
 523 0116 4FF0000B 		mov	fp, #0
 524 011a 95E7     		b	.L27
 525              	.LVL48:
 526              	.L39:
  93:Core/Src/PID.c ****     }
 527              		.loc 1 93 20 view .LVU107
 528 011c 4FF0000A 		mov	r10, #0
 529 0120 A5E7     		b	.L29
 530              	.LVL49:
 531              	.L41:
 102:Core/Src/PID.c ****     PID->previous_error = PID->error;
 532              		.loc 1 102 48 discriminator 1 view .LVU108
 533 0122 07F10043 		add	r3, r7, #-2147483648
 534 0126 1F46     		mov	r7, r3
 535 0128 EBE7     		b	.L31
 536              	.L43:
 537 012a 00BF     		.align	2
 538              	.L42:
 539 012c 00000000 		.word	.LANCHOR0
 540 0130 00000000 		.word	.LANCHOR1
 541              		.cfi_endproc
 542              	.LFE134:
 544              		.global	__aeabi_dcmpeq
 545              		.global	__aeabi_d2uiz
 546              		.section	.text.PID_SetDuty,"ax",%progbits
 547              		.align	1
 548              		.global	PID_SetDuty
 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 552              		.fpu fpv4-sp-d16
 554              	PID_SetDuty:
 555              	.LVL50:
 556              	.LFB136:
 123:Core/Src/PID.c **** 
 124:Core/Src/PID.c **** 
 125:Core/Src/PID.c **** 
 126:Core/Src/PID.c **** // PID_SetDuty(&(htimx->CCRx->CNT), MOTOR_TypeDef *motor)
 127:Core/Src/PID.c **** void PID_SetDuty(MOTOR_TypeDef *motor)
 128:Core/Src/PID.c **** {
 557              		.loc 1 128 1 is_stmt 1 view -0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561              		.loc 1 128 1 is_stmt 0 view .LVU110
 562 0000 10B5     		push	{r4, lr}
 563              	.LCFI9:
 564              		.cfi_def_cfa_offset 8
 565              		.cfi_offset 4, -8
 566              		.cfi_offset 14, -4
 567 0002 0446     		mov	r4, r0
 129:Core/Src/PID.c ****     *(motor->PWM_ADDR) = 0;
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 14


 568              		.loc 1 129 5 is_stmt 1 view .LVU111
 569              		.loc 1 129 12 is_stmt 0 view .LVU112
 570 0004 836B     		ldr	r3, [r0, #56]
 571              		.loc 1 129 24 view .LVU113
 572 0006 0022     		movs	r2, #0
 573 0008 1A60     		str	r2, [r3]
 130:Core/Src/PID.c ****     if (motor->dir == 1)
 574              		.loc 1 130 5 is_stmt 1 view .LVU114
 575              		.loc 1 130 14 is_stmt 0 view .LVU115
 576 000a 90F82830 		ldrb	r3, [r0, #40]	@ zero_extendqisi2
 577              		.loc 1 130 8 view .LVU116
 578 000e 012B     		cmp	r3, #1
 579 0010 1BD0     		beq	.L53
 131:Core/Src/PID.c ****     {
 132:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR1_PIN, 0);
 133:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 1);
 134:Core/Src/PID.c ****     }
 135:Core/Src/PID.c ****     else 
 136:Core/Src/PID.c ****     {
 137:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR1_PIN, 1);
 580              		.loc 1 137 9 is_stmt 1 view .LVU117
 581 0012 0122     		movs	r2, #1
 582 0014 418D     		ldrh	r1, [r0, #42]
 583 0016 406B     		ldr	r0, [r0, #52]
 584              	.LVL51:
 585              		.loc 1 137 9 is_stmt 0 view .LVU118
 586 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 587              	.LVL52:
 138:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 0);  
 588              		.loc 1 138 9 is_stmt 1 view .LVU119
 589 001c 0022     		movs	r2, #0
 590 001e A18D     		ldrh	r1, [r4, #44]
 591 0020 606B     		ldr	r0, [r4, #52]
 592 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 593              	.LVL53:
 594              	.L46:
 139:Core/Src/PID.c ****     }
 140:Core/Src/PID.c ****     if (motor->set_speed != 0)
 595              		.loc 1 140 5 view .LVU120
 596              		.loc 1 140 8 is_stmt 0 view .LVU121
 597 0026 0022     		movs	r2, #0
 598 0028 0023     		movs	r3, #0
 599 002a D4E90201 		ldrd	r0, [r4, #8]
 600 002e FFF7FEFF 		bl	__aeabi_dcmpeq
 601              	.LVL54:
 602 0032 A0B9     		cbnz	r0, .L51
 141:Core/Src/PID.c ****     {
 142:Core/Src/PID.c ****         *(motor->PWM_ADDR) = round(motor->pwm_output);      
 603              		.loc 1 142 9 is_stmt 1 view .LVU122
 604              		.loc 1 142 30 is_stmt 0 view .LVU123
 605 0034 94ED080B 		vldr.64	d0, [r4, #32]
 606 0038 FFF7FEFF 		bl	round
 607              	.LVL55:
 608 003c 51EC100B 		vmov	r0, r1, d0
 609              		.loc 1 142 16 view .LVU124
 610 0040 A46B     		ldr	r4, [r4, #56]
 611              	.LVL56:
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 15


 612              		.loc 1 142 28 view .LVU125
 613 0042 FFF7FEFF 		bl	__aeabi_d2uiz
 614              	.LVL57:
 615 0046 2060     		str	r0, [r4]
 616              	.L44:
 143:Core/Src/PID.c ****     }
 144:Core/Src/PID.c ****     else
 145:Core/Src/PID.c ****     {
 146:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR1_PIN, 0);
 147:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 0);
 148:Core/Src/PID.c ****     }
 149:Core/Src/PID.c ****     
 150:Core/Src/PID.c **** }
 617              		.loc 1 150 1 view .LVU126
 618 0048 10BD     		pop	{r4, pc}
 619              	.LVL58:
 620              	.L53:
 132:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 1);
 621              		.loc 1 132 9 is_stmt 1 view .LVU127
 622 004a 418D     		ldrh	r1, [r0, #42]
 623 004c 406B     		ldr	r0, [r0, #52]
 624              	.LVL59:
 132:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 1);
 625              		.loc 1 132 9 is_stmt 0 view .LVU128
 626 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 627              	.LVL60:
 133:Core/Src/PID.c ****     }
 628              		.loc 1 133 9 is_stmt 1 view .LVU129
 629 0052 0122     		movs	r2, #1
 630 0054 A18D     		ldrh	r1, [r4, #44]
 631 0056 606B     		ldr	r0, [r4, #52]
 632 0058 FFF7FEFF 		bl	HAL_GPIO_WritePin
 633              	.LVL61:
 634 005c E3E7     		b	.L46
 635              	.L51:
 146:Core/Src/PID.c ****         HAL_GPIO_WritePin(motor->GPIO, motor->DIR2_PIN, 0);
 636              		.loc 1 146 9 view .LVU130
 637 005e 0022     		movs	r2, #0
 638 0060 618D     		ldrh	r1, [r4, #42]
 639 0062 606B     		ldr	r0, [r4, #52]
 640 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 641              	.LVL62:
 147:Core/Src/PID.c ****     }
 642              		.loc 1 147 9 view .LVU131
 643 0068 0022     		movs	r2, #0
 644 006a A18D     		ldrh	r1, [r4, #44]
 645 006c 606B     		ldr	r0, [r4, #52]
 646 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 647              	.LVL63:
 648              		.loc 1 150 1 is_stmt 0 view .LVU132
 649 0072 E9E7     		b	.L44
 650              		.cfi_endproc
 651              	.LFE136:
 653              		.section	.text.PID_SetTunings,"ax",%progbits
 654              		.align	1
 655              		.global	PID_SetTunings
 656              		.syntax unified
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 16


 657              		.thumb
 658              		.thumb_func
 659              		.fpu fpv4-sp-d16
 661              	PID_SetTunings:
 662              	.LVL64:
 663              	.LFB137:
 151:Core/Src/PID.c **** 
 152:Core/Src/PID.c **** 
 153:Core/Src/PID.c **** void PID_SetTunings(PID_TypeDef *pPID_Params, double setKp, double setKi, double setKd)
 154:Core/Src/PID.c **** {
 664              		.loc 1 154 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		@ link register save eliminated.
 155:Core/Src/PID.c ****     pPID_Params->Kp = setKp;
 669              		.loc 1 155 5 view .LVU134
 670              		.loc 1 155 21 is_stmt 0 view .LVU135
 671 0000 80ED000B 		vstr.64	d0, [r0]
 156:Core/Src/PID.c ****     pPID_Params->Ki = setKi;
 672              		.loc 1 156 5 is_stmt 1 view .LVU136
 673              		.loc 1 156 21 is_stmt 0 view .LVU137
 674 0004 80ED041B 		vstr.64	d1, [r0, #16]
 157:Core/Src/PID.c ****     pPID_Params->Kd = setKd;
 675              		.loc 1 157 5 is_stmt 1 view .LVU138
 676              		.loc 1 157 21 is_stmt 0 view .LVU139
 677 0008 80ED022B 		vstr.64	d2, [r0, #8]
 158:Core/Src/PID.c **** }
 678              		.loc 1 158 1 view .LVU140
 679 000c 7047     		bx	lr
 680              		.cfi_endproc
 681              	.LFE137:
 683              		.section	.text.PID_MotorInit,"ax",%progbits
 684              		.align	1
 685              		.global	PID_MotorInit
 686              		.syntax unified
 687              		.thumb
 688              		.thumb_func
 689              		.fpu fpv4-sp-d16
 691              	PID_MotorInit:
 692              	.LVL65:
 693              	.LFB138:
 159:Core/Src/PID.c **** 
 160:Core/Src/PID.c **** 
 161:Core/Src/PID.c **** // Init GPIOs and PID params that relevant to motor.
 162:Core/Src/PID.c **** void PID_MotorInit( MOTOR_TypeDef *motor,               // Motor str address
 163:Core/Src/PID.c ****                     PID_TypeDef *pPID_Params,           // PID str address
 164:Core/Src/PID.c ****                     GPIO_TypeDef* PORT,                 // GPIO PORT for direction control
 165:Core/Src/PID.c ****                     uint16_t PIN1,                      // GPIO PINS for direction control
 166:Core/Src/PID.c ****                     uint16_t PIN2,                      // GPIO PINS for direction control
 167:Core/Src/PID.c ****                     double max_output,                  // Max Output of PWM
 168:Core/Src/PID.c ****                     double min_output,                  // Min Input of PWM
 169:Core/Src/PID.c ****                     volatile uint32_t * TIM_ENC_ADDR,   // TIMER interfacing encoder's counter regi
 170:Core/Src/PID.c ****                     volatile uint32_t * TIM_PWM_ADDR,   // TIMER Capture and Compare Register addre
 171:Core/Src/PID.c ****                     double* pSet_Params)                // Set PID parameters array
 172:Core/Src/PID.c **** {
 694              		.loc 1 172 1 is_stmt 1 view -0
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 17


 695              		.cfi_startproc
 696              		@ args = 16, pretend = 0, frame = 0
 697              		@ frame_needed = 0, uses_anonymous_args = 0
 698              		.loc 1 172 1 is_stmt 0 view .LVU142
 699 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 700              	.LCFI10:
 701              		.cfi_def_cfa_offset 32
 702              		.cfi_offset 4, -32
 703              		.cfi_offset 5, -28
 704              		.cfi_offset 6, -24
 705              		.cfi_offset 7, -20
 706              		.cfi_offset 8, -16
 707              		.cfi_offset 9, -12
 708              		.cfi_offset 10, -8
 709              		.cfi_offset 14, -4
 710 0004 2DED028B 		vpush.64	{d8}
 711              	.LCFI11:
 712              		.cfi_def_cfa_offset 40
 713              		.cfi_offset 80, -40
 714              		.cfi_offset 81, -36
 715 0008 0446     		mov	r4, r0
 716 000a 0D46     		mov	r5, r1
 717 000c 9246     		mov	r10, r2
 718 000e 1F46     		mov	r7, r3
 719 0010 B0EE408A 		vmov.f32	s16, s0
 720 0014 F0EE608A 		vmov.f32	s17, s1
 721 0018 59EC118B 		vmov	r8, r9, d1
 722 001c 0D9E     		ldr	r6, [sp, #52]
 173:Core/Src/PID.c **** 
 174:Core/Src/PID.c ****     #ifndef __GPIO_H__
 175:Core/Src/PID.c ****     GPIO_InitTypeDef GPIO_InitStruct = {0};
 176:Core/Src/PID.c **** 
 177:Core/Src/PID.c ****     GPIO_InitStruct.Pin = PIN1 | PIN2;
 178:Core/Src/PID.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 179:Core/Src/PID.c ****     GPIO_InitStruct.Pull = GPIO_PULLUP;
 180:Core/Src/PID.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 181:Core/Src/PID.c ****     HAL_GPIO_Init(PORT, &GPIO_InitStruct);
 182:Core/Src/PID.c ****     #endif
 183:Core/Src/PID.c **** 
 184:Core/Src/PID.c ****     memset(pPID_Params , 0, sizeof(PID_TypeDef) );
 723              		.loc 1 184 5 is_stmt 1 view .LVU143
 724 001e 4022     		movs	r2, #64
 725              	.LVL66:
 726              		.loc 1 184 5 is_stmt 0 view .LVU144
 727 0020 0021     		movs	r1, #0
 728              	.LVL67:
 729              		.loc 1 184 5 view .LVU145
 730 0022 2846     		mov	r0, r5
 731              	.LVL68:
 732              		.loc 1 184 5 view .LVU146
 733 0024 FFF7FEFF 		bl	memset
 734              	.LVL69:
 185:Core/Src/PID.c **** 
 186:Core/Src/PID.c ****     motor->pPID_params = pPID_Params;
 735              		.loc 1 186 5 is_stmt 1 view .LVU147
 736              		.loc 1 186 24 is_stmt 0 view .LVU148
 737 0028 2563     		str	r5, [r4, #48]
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 18


 187:Core/Src/PID.c ****     motor->GPIO = PORT;
 738              		.loc 1 187 5 is_stmt 1 view .LVU149
 739              		.loc 1 187 17 is_stmt 0 view .LVU150
 740 002a C4F834A0 		str	r10, [r4, #52]
 188:Core/Src/PID.c ****     motor->DIR1_PIN = PIN1;
 741              		.loc 1 188 5 is_stmt 1 view .LVU151
 742              		.loc 1 188 21 is_stmt 0 view .LVU152
 743 002e 6785     		strh	r7, [r4, #42]	@ movhi
 189:Core/Src/PID.c ****     motor->DIR2_PIN = PIN2;
 744              		.loc 1 189 5 is_stmt 1 view .LVU153
 745              		.loc 1 189 21 is_stmt 0 view .LVU154
 746 0030 BDF82830 		ldrh	r3, [sp, #40]
 747 0034 A385     		strh	r3, [r4, #44]	@ movhi
 190:Core/Src/PID.c **** 
 191:Core/Src/PID.c ****     motor->dir = 1;
 748              		.loc 1 191 5 is_stmt 1 view .LVU155
 749              		.loc 1 191 16 is_stmt 0 view .LVU156
 750 0036 0123     		movs	r3, #1
 751 0038 84F82830 		strb	r3, [r4, #40]
 192:Core/Src/PID.c **** 
 193:Core/Src/PID.c ****     motor->ENC_ADDR = TIM_ENC_ADDR;
 752              		.loc 1 193 5 is_stmt 1 view .LVU157
 753              		.loc 1 193 21 is_stmt 0 view .LVU158
 754 003c 0B9B     		ldr	r3, [sp, #44]
 755 003e E363     		str	r3, [r4, #60]
 194:Core/Src/PID.c ****     motor->PWM_ADDR = TIM_PWM_ADDR;
 756              		.loc 1 194 5 is_stmt 1 view .LVU159
 757              		.loc 1 194 21 is_stmt 0 view .LVU160
 758 0040 0C9B     		ldr	r3, [sp, #48]
 759 0042 A363     		str	r3, [r4, #56]
 195:Core/Src/PID.c **** 
 196:Core/Src/PID.c ****     pPID_Params->OUTPUT_MAX = max_output;
 760              		.loc 1 196 5 is_stmt 1 view .LVU161
 761              		.loc 1 196 29 is_stmt 0 view .LVU162
 762 0044 85ED0C8B 		vstr.64	d8, [r5, #48]
 197:Core/Src/PID.c ****     pPID_Params->OUTPUT_MIN = min_output;
 763              		.loc 1 197 5 is_stmt 1 view .LVU163
 764              		.loc 1 197 29 is_stmt 0 view .LVU164
 765 0048 C5E90E89 		strd	r8, [r5, #56]
 198:Core/Src/PID.c **** 
 199:Core/Src/PID.c ****     PID_SetTunings(pPID_Params, pSet_Params[0] , pSet_Params[1], pSet_Params[2]);
 766              		.loc 1 199 5 is_stmt 1 view .LVU165
 767 004c 96ED042B 		vldr.64	d2, [r6, #16]
 768 0050 96ED021B 		vldr.64	d1, [r6, #8]
 769 0054 96ED000B 		vldr.64	d0, [r6]
 770 0058 2846     		mov	r0, r5
 771 005a FFF7FEFF 		bl	PID_SetTunings
 772              	.LVL70:
 200:Core/Src/PID.c **** }
 773              		.loc 1 200 1 is_stmt 0 view .LVU166
 774 005e BDEC028B 		vldm	sp!, {d8}
 775              	.LCFI12:
 776              		.cfi_restore 80
 777              		.cfi_restore 81
 778              		.cfi_def_cfa_offset 32
 779              	.LVL71:
 780              		.loc 1 200 1 view .LVU167
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 19


 781 0062 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 782              		.loc 1 200 1 view .LVU168
 783              		.cfi_endproc
 784              	.LFE138:
 786              		.section	.text.PID_FirstOrderFilter,"ax",%progbits
 787              		.align	1
 788              		.global	PID_FirstOrderFilter
 789              		.syntax unified
 790              		.thumb
 791              		.thumb_func
 792              		.fpu fpv4-sp-d16
 794              	PID_FirstOrderFilter:
 795              	.LVL72:
 796              	.LFB139:
 201:Core/Src/PID.c **** 
 202:Core/Src/PID.c **** 
 203:Core/Src/PID.c **** // Note: Nothing
 204:Core/Src/PID.c **** double PID_FirstOrderFilter(double raw_sig, double last_filtered_sig, double a)
 205:Core/Src/PID.c **** {
 797              		.loc 1 205 1 is_stmt 1 view -0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801              		.loc 1 205 1 is_stmt 0 view .LVU170
 802 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 803              	.LCFI13:
 804              		.cfi_def_cfa_offset 32
 805              		.cfi_offset 3, -32
 806              		.cfi_offset 4, -28
 807              		.cfi_offset 5, -24
 808              		.cfi_offset 6, -20
 809              		.cfi_offset 7, -16
 810              		.cfi_offset 8, -12
 811              		.cfi_offset 9, -8
 812              		.cfi_offset 14, -4
 813 0004 59EC108B 		vmov	r8, r9, d0
 814 0008 53EC112B 		vmov	r2, r3, d1
 815 000c 55EC124B 		vmov	r4, r5, d2
 206:Core/Src/PID.c ****     return  (a * last_filtered_sig +  (1-a) * raw_sig);
 816              		.loc 1 206 5 is_stmt 1 view .LVU171
 817              		.loc 1 206 16 is_stmt 0 view .LVU172
 818 0010 12EE100A 		vmov	r0, s4	@ int
 819 0014 2946     		mov	r1, r5
 820 0016 FFF7FEFF 		bl	__aeabi_dmul
 821              	.LVL73:
 822              		.loc 1 206 16 view .LVU173
 823 001a 0646     		mov	r6, r0
 824 001c 0F46     		mov	r7, r1
 825              		.loc 1 206 41 view .LVU174
 826 001e 2246     		mov	r2, r4
 827 0020 2B46     		mov	r3, r5
 828 0022 0020     		movs	r0, #0
 829 0024 0849     		ldr	r1, .L59
 830 0026 FFF7FEFF 		bl	__aeabi_dsub
 831              	.LVL74:
 832              		.loc 1 206 45 view .LVU175
 833 002a 4246     		mov	r2, r8
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 20


 834 002c 4B46     		mov	r3, r9
 835 002e FFF7FEFF 		bl	__aeabi_dmul
 836              	.LVL75:
 837 0032 0246     		mov	r2, r0
 838 0034 0B46     		mov	r3, r1
 839              		.loc 1 206 36 view .LVU176
 840 0036 3046     		mov	r0, r6
 841 0038 3946     		mov	r1, r7
 842 003a FFF7FEFF 		bl	__aeabi_dadd
 843              	.LVL76:
 207:Core/Src/PID.c **** }
 844              		.loc 1 207 1 view .LVU177
 845 003e 41EC100B 		vmov	d0, r0, r1
 846 0042 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 847              	.LVL77:
 848              	.L60:
 849              		.loc 1 207 1 view .LVU178
 850 0046 00BF     		.align	2
 851              	.L59:
 852 0048 0000F03F 		.word	1072693248
 853              		.cfi_endproc
 854              	.LFE139:
 856              		.global	__aeabi_ui2d
 857              		.section	.text.PID_PreProcess,"ax",%progbits
 858              		.align	1
 859              		.global	PID_PreProcess
 860              		.syntax unified
 861              		.thumb
 862              		.thumb_func
 863              		.fpu fpv4-sp-d16
 865              	PID_PreProcess:
 866              	.LVL78:
 867              	.LFB140:
 208:Core/Src/PID.c **** 
 209:Core/Src/PID.c **** 
 210:Core/Src/PID.c **** // Do sampling and computing speed in RPM and PID Error
 211:Core/Src/PID.c **** void PID_PreProcess(MOTOR_TypeDef *motor, double _set_speed)
 212:Core/Src/PID.c **** {
 868              		.loc 1 212 1 is_stmt 1 view -0
 869              		.cfi_startproc
 870              		@ args = 0, pretend = 0, frame = 0
 871              		@ frame_needed = 0, uses_anonymous_args = 0
 872              		.loc 1 212 1 is_stmt 0 view .LVU180
 873 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 874              	.LCFI14:
 875              		.cfi_def_cfa_offset 32
 876              		.cfi_offset 3, -32
 877              		.cfi_offset 4, -28
 878              		.cfi_offset 5, -24
 879              		.cfi_offset 6, -20
 880              		.cfi_offset 7, -16
 881              		.cfi_offset 8, -12
 882              		.cfi_offset 9, -8
 883              		.cfi_offset 14, -4
 884 0004 2DED028B 		vpush.64	{d8}
 885              	.LCFI15:
 886              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 21


 887              		.cfi_offset 80, -40
 888              		.cfi_offset 81, -36
 889 0008 0446     		mov	r4, r0
 890 000a B0EE408A 		vmov.f32	s16, s0
 891 000e F0EE608A 		vmov.f32	s17, s1
 213:Core/Src/PID.c **** 
 214:Core/Src/PID.c ****     // Sampling: get ticks at the same time with getting encoder pos
 215:Core/Src/PID.c ****     uint32_t enc_cnt = *(motor->ENC_ADDR); // Similar to enc_cnt = TIMx->CNT
 892              		.loc 1 215 5 is_stmt 1 view .LVU181
 893              		.loc 1 215 31 is_stmt 0 view .LVU182
 894 0012 C36B     		ldr	r3, [r0, #60]
 895              		.loc 1 215 14 view .LVU183
 896 0014 1F68     		ldr	r7, [r3]
 897              	.LVL79:
 216:Core/Src/PID.c ****     uint32_t tick = HAL_GetTick();
 898              		.loc 1 216 5 is_stmt 1 view .LVU184
 899              		.loc 1 216 21 is_stmt 0 view .LVU185
 900 0016 FFF7FEFF 		bl	HAL_GetTick
 901              	.LVL80:
 902              		.loc 1 216 21 view .LVU186
 903 001a 0546     		mov	r5, r0
 904              	.LVL81:
 217:Core/Src/PID.c ****     // End of sampling
 218:Core/Src/PID.c **** 
 219:Core/Src/PID.c ****     uint32_t d_tick = tick - motor->last_tick; // Calc the derivative of time
 905              		.loc 1 219 5 is_stmt 1 view .LVU187
 906              		.loc 1 219 35 is_stmt 0 view .LVU188
 907 001c A669     		ldr	r6, [r4, #24]
 908              	.LVL82:
 220:Core/Src/PID.c ****     if (d_tick <= 0) d_tick = 10;
 909              		.loc 1 220 5 is_stmt 1 view .LVU189
 910              		.loc 1 220 8 is_stmt 0 view .LVU190
 911 001e 861B     		subs	r6, r0, r6
 912              	.LVL83:
 913              		.loc 1 220 8 view .LVU191
 914 0020 00D1     		bne	.L62
 915              		.loc 1 220 29 view .LVU192
 916 0022 0A26     		movs	r6, #10
 917              	.LVL84:
 918              	.L62:
 221:Core/Src/PID.c **** 
 222:Core/Src/PID.c ****     uint32_t last_enc_cnt = motor->last_enc_cnt;
 919              		.loc 1 222 5 is_stmt 1 view .LVU193
 920              		.loc 1 222 14 is_stmt 0 view .LVU194
 921 0024 E069     		ldr	r0, [r4, #28]
 922              	.LVL85:
 223:Core/Src/PID.c **** 
 224:Core/Src/PID.c ****     double d_measure = (enc_cnt>last_enc_cnt) ? (enc_cnt-last_enc_cnt) : (last_enc_cnt-enc_cnt);
 923              		.loc 1 224 5 is_stmt 1 view .LVU195
 924              		.loc 1 224 12 is_stmt 0 view .LVU196
 925 0026 8742     		cmp	r7, r0
 926 0028 2BD9     		bls	.L63
 927              		.loc 1 224 12 discriminator 1 view .LVU197
 928 002a 381A     		subs	r0, r7, r0
 929              	.LVL86:
 930              		.loc 1 224 12 discriminator 1 view .LVU198
 931 002c FFF7FEFF 		bl	__aeabi_ui2d
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 22


 932              	.LVL87:
 933              		.loc 1 224 12 discriminator 1 view .LVU199
 934 0030 8046     		mov	r8, r0
 935 0032 8946     		mov	r9, r1
 936              	.L64:
 937              	.LVL88:
 225:Core/Src/PID.c ****     // Handle overflow or underflow of encoder interfacing timer
 226:Core/Src/PID.c ****     if (d_measure > 50) d_measure = motor->measure;
 938              		.loc 1 226 5 is_stmt 1 discriminator 4 view .LVU200
 939              		.loc 1 226 8 is_stmt 0 discriminator 4 view .LVU201
 940 0034 0022     		movs	r2, #0
 941 0036 184B     		ldr	r3, .L70+8
 942 0038 4046     		mov	r0, r8
 943 003a 4946     		mov	r1, r9
 944 003c FFF7FEFF 		bl	__aeabi_dcmpgt
 945              	.LVL89:
 946 0040 08B1     		cbz	r0, .L65
 947              		.loc 1 226 25 is_stmt 1 discriminator 1 view .LVU202
 948              		.loc 1 226 35 is_stmt 0 discriminator 1 view .LVU203
 949 0042 D4E90489 		ldrd	r8, [r4, #16]
 950              	.LVL90:
 951              	.L65:
 227:Core/Src/PID.c ****     // Filter the measurement
 228:Core/Src/PID.c ****     d_measure  = PID_FirstOrderFilter(d_measure, motor->measure, _1ST_FILTER_ALPHA);
 952              		.loc 1 228 5 is_stmt 1 view .LVU204
 953              		.loc 1 228 18 is_stmt 0 view .LVU205
 954 0046 9FED122B 		vldr.64	d2, .L70
 955 004a 94ED041B 		vldr.64	d1, [r4, #16]
 956 004e 49EC108B 		vmov	d0, r8, r9
 957 0052 FFF7FEFF 		bl	PID_FirstOrderFilter
 958              	.LVL91:
 229:Core/Src/PID.c **** 
 230:Core/Src/PID.c ****     motor->measure = d_measure;
 959              		.loc 1 230 5 is_stmt 1 view .LVU206
 960              		.loc 1 230 20 is_stmt 0 view .LVU207
 961 0056 84ED040B 		vstr.64	d0, [r4, #16]
 231:Core/Src/PID.c **** 
 232:Core/Src/PID.c ****     PID_ComputeSpeedRPM( motor, d_tick );
 962              		.loc 1 232 5 is_stmt 1 view .LVU208
 963 005a 3146     		mov	r1, r6
 964 005c 2046     		mov	r0, r4
 965 005e FFF7FEFF 		bl	PID_ComputeSpeedRPM
 966              	.LVL92:
 233:Core/Src/PID.c ****     PID_SetSpeedRPM( motor , _set_speed );
 967              		.loc 1 233 5 view .LVU209
 968 0062 B0EE480A 		vmov.f32	s0, s16
 969 0066 F0EE680A 		vmov.f32	s1, s17
 970 006a 2046     		mov	r0, r4
 971 006c FFF7FEFF 		bl	PID_SetSpeedRPM
 972              	.LVL93:
 234:Core/Src/PID.c ****     PID_ComputeError( motor );
 973              		.loc 1 234 5 view .LVU210
 974 0070 2046     		mov	r0, r4
 975 0072 FFF7FEFF 		bl	PID_ComputeError
 976              	.LVL94:
 235:Core/Src/PID.c ****  
 236:Core/Src/PID.c ****     motor->last_tick = tick;
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 23


 977              		.loc 1 236 5 view .LVU211
 978              		.loc 1 236 22 is_stmt 0 view .LVU212
 979 0076 A561     		str	r5, [r4, #24]
 237:Core/Src/PID.c ****     motor->last_enc_cnt = enc_cnt;
 980              		.loc 1 237 5 is_stmt 1 view .LVU213
 981              		.loc 1 237 25 is_stmt 0 view .LVU214
 982 0078 E761     		str	r7, [r4, #28]
 238:Core/Src/PID.c **** 
 239:Core/Src/PID.c **** }...
 983              		.loc 1 239 1 view .LVU215
 984 007a BDEC028B 		vldm	sp!, {d8}
 985              	.LCFI16:
 986              		.cfi_remember_state
 987              		.cfi_restore 80
 988              		.cfi_restore 81
 989              		.cfi_def_cfa_offset 32
 990              	.LVL95:
 991              		.loc 1 239 1 view .LVU216
 992 007e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 993              	.LVL96:
 994              	.L63:
 995              	.LCFI17:
 996              		.cfi_restore_state
 224:Core/Src/PID.c ****     double d_measure = (enc_cnt>last_enc_cnt) ? (enc_cnt-last_enc_cnt) : (last_enc_cnt-enc_cnt);
 997              		.loc 1 224 12 discriminator 2 view .LVU217
 998 0082 C01B     		subs	r0, r0, r7
 999              	.LVL97:
 224:Core/Src/PID.c ****     double d_measure = (enc_cnt>last_enc_cnt) ? (enc_cnt-last_enc_cnt) : (last_enc_cnt-enc_cnt);
 1000              		.loc 1 224 12 discriminator 2 view .LVU218
 1001 0084 FFF7FEFF 		bl	__aeabi_ui2d
 1002              	.LVL98:
 224:Core/Src/PID.c ****     double d_measure = (enc_cnt>last_enc_cnt) ? (enc_cnt-last_enc_cnt) : (last_enc_cnt-enc_cnt);
 1003              		.loc 1 224 12 discriminator 2 view .LVU219
 1004 0088 8046     		mov	r8, r0
 1005 008a 8946     		mov	r9, r1
 1006 008c D2E7     		b	.L64
 1007              	.L71:
 1008 008e 00BF     		.align	3
 1009              	.L70:
 1010 0090 00000000 		.word	0
 1011 0094 0000E03F 		.word	1071644672
 1012 0098 00004940 		.word	1078525952
 1013              		.cfi_endproc
 1014              	.LFE140:
 1016              		.global	d_term
 1017              		.global	p_term
 1018              		.global	i_term
 1019              		.section	.bss.d_term,"aw",%nobits
 1020              		.align	3
 1023              	d_term:
 1024 0000 00000000 		.space	8
 1024      00000000 
 1025              		.section	.bss.i_term,"aw",%nobits
 1026              		.align	3
 1027              		.set	.LANCHOR1,. + 0
 1030              	i_term:
 1031 0000 00000000 		.space	8
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 24


 1031      00000000 
 1032              		.section	.bss.p_term,"aw",%nobits
 1033              		.align	3
 1034              		.set	.LANCHOR0,. + 0
 1037              	p_term:
 1038 0000 00000000 		.space	8
 1038      00000000 
 1039              		.text
 1040              	.Letext0:
 1041              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 1042              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 1043              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1044              		.file 5 "Core/Inc/PID.h"
 1045              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1046              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1047              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 1048              		.file 9 "<built-in>"
ARM GAS  C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 PID.c
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:21     .text.PID_ComputeSpeedRPM:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:29     .text.PID_ComputeSpeedRPM:00000000 PID_ComputeSpeedRPM
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:81     .text.PID_ComputeSpeedRPM:00000040 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:89     .text.PID_SetSpeedRPM:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:96     .text.PID_SetSpeedRPM:00000000 PID_SetSpeedRPM
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:154    .text.PID_SetSpeedMPS:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:161    .text.PID_SetSpeedMPS:00000000 PID_SetSpeedMPS
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:202    .text.PID_SetSpeedMPS:00000028 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:210    .text.PID_ComputeError:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:217    .text.PID_ComputeError:00000000 PID_ComputeError
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:251    .text.PID_Limit:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:258    .text.PID_Limit:00000000 PID_Limit
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:319    .text.PID_ComputeOutput:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:326    .text.PID_ComputeOutput:00000000 PID_ComputeOutput
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:539    .text.PID_ComputeOutput:0000012c $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:547    .text.PID_SetDuty:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:554    .text.PID_SetDuty:00000000 PID_SetDuty
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:654    .text.PID_SetTunings:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:661    .text.PID_SetTunings:00000000 PID_SetTunings
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:684    .text.PID_MotorInit:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:691    .text.PID_MotorInit:00000000 PID_MotorInit
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:787    .text.PID_FirstOrderFilter:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:794    .text.PID_FirstOrderFilter:00000000 PID_FirstOrderFilter
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:852    .text.PID_FirstOrderFilter:00000048 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:858    .text.PID_PreProcess:00000000 $t
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:865    .text.PID_PreProcess:00000000 PID_PreProcess
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1010   .text.PID_PreProcess:00000090 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1023   .bss.d_term:00000000 d_term
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1037   .bss.p_term:00000000 p_term
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1030   .bss.i_term:00000000 i_term
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1020   .bss.d_term:00000000 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1026   .bss.i_term:00000000 $d
C:\Users\Duy_Linh\AppData\Local\Temp\ccuiIPLk.s:1033   .bss.p_term:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_ddiv
__aeabi_dmul
__aeabi_dcmpge
__aeabi_i2d
__aeabi_dsub
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_d2f
__aeabi_dadd
__aeabi_dcmpeq
__aeabi_d2uiz
HAL_GPIO_WritePin
round
memset
__aeabi_ui2d
HAL_GetTick
